{"version":3,"sources":["hooks/useNestingRoot.ts"],"names":["React","NestingContext","RefStack","registrySet","useNestingRoot","useState","registry","parentRef","useRef","nestedProps","useMemo","value","getContextRefs","register","unregister","getRefs","useCallback","useEffect","NestedComponent","Provider","isRoot","ref"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,SAASC,cAAT,QAA+B,mBAA/B;AAEA,SAASC,QAAT,QAAyB,mBAAzB;AAGA,IAAMC,WAAW,GAAG,IAAID,QAAJ,EAApB,C,CAEA;;AACA;;AAEA,OAAO,IAAME,cAAc,GAAG,SAAjBA,cAAiB,GAA+C;AAC3E,wBAAmBJ,KAAK,CAACK,QAAN,CAAeF,WAAf,CAAnB;AAAA,MAAOG,QAAP;;AACA,MAAMC,SAAS,GAAGP,KAAK,CAACQ,MAAN,CAAgB,IAAhB,CAAlB;AAEA,MAAMC,WAA+B,GAAGT,KAAK,CAACU,OAAN,CACtC;AAAA,WAAO;AACLC,MAAAA,KAAK,EAAE;AACLC,QAAAA,cAAc,EAAEN,QAAQ,CAACM,cADpB;AAELC,QAAAA,QAAQ,EAAEP,QAAQ,CAACO,QAFd;AAGLC,QAAAA,UAAU,EAAER,QAAQ,CAACQ;AAHhB;AADF,KAAP;AAAA,GADsC,EAQtC,EARsC,CAAxC;AAUA,MAAMC,OAAO,GAAGf,KAAK,CAACgB,WAAN,CAAkB,YAAM;AACtC,WAAOV,QAAQ,CAACM,cAAT,CAAwBL,SAAxB,CAAP;AACD,GAFe,EAEb,EAFa,CAAhB;AAIAP,EAAAA,KAAK,CAACiB,SAAN,CAAgB,YAAM;AACpBX,IAAAA,QAAQ,CAACO,QAAT,CAAkBN,SAAlB;AAEA,WAAO;AAAA,aAAMD,QAAQ,CAACQ,UAAT,CAAoBP,SAApB,CAAN;AAAA,KAAP;AACD,GAJD,EAIG,EAJH;AAMA,SAAO;AACLW,IAAAA,eAAe,EAAEjB,cAAc,CAACkB,QAD3B;AAELV,IAAAA,WAAW,EAAXA,WAFK;AAILM,IAAAA,OAAO,EAAPA,OAJK;AAKLK,IAAAA,MAAM,EAAE,IALH;AAMLC,IAAAA,GAAG,EAAEd;AANA,GAAP;AAQD,CAhCM","sourcesContent":["import * as React from 'react';\n\nimport { NestingContext } from '../NestingContext';\nimport { NestedContextProps } from '../types';\nimport { RefStack } from '../utils/RefStack';\nimport { UseNestingHookResult } from './types';\n\nconst registrySet = new RefStack();\n\n// These hooks are not used currently\n/* eslint-disable */\n\nexport const useNestingRoot = <T extends Node>(): UseNestingHookResult<T> => {\n  const [registry] = React.useState(registrySet);\n  const parentRef = React.useRef<T>(null);\n\n  const nestedProps: NestedContextProps = React.useMemo(\n    () => ({\n      value: {\n        getContextRefs: registry.getContextRefs,\n        register: registry.register,\n        unregister: registry.unregister,\n      },\n    }),\n    [],\n  );\n  const getRefs = React.useCallback(() => {\n    return registry.getContextRefs(parentRef as any);\n  }, []);\n\n  React.useEffect(() => {\n    registry.register(parentRef as any);\n\n    return () => registry.unregister(parentRef as any);\n  }, []);\n\n  return {\n    NestedComponent: NestingContext.Provider,\n    nestedProps,\n\n    getRefs,\n    isRoot: true,\n    ref: parentRef,\n  };\n};\n"],"file":"useNestingRoot.js"}