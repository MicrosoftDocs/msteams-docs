{"version":3,"sources":["components/Debug/DebugRect.tsx"],"names":["cropMarkStyle","position","background","DebugRect","selectorRef","React","createRef","setDebugSelectorPosition","fiberNav","props","domNode","getBoundingClientRect","current","rect","style","top","left","width","height","requestAnimationFrame","componentDidMount","componentDidUpdate","prevProps","prevState","snapshot","render","showBackground","showClassName","showCropMarks","showElement","renderLabel","label","padding","margin","outline","outlineOffset","zIndex","pointerEvents","userSelect","bottom","color","fontWeight","right","fontSize","tagName","toLowerCase","hasAttribute","getAttribute","replace","Component","defaultProps","name"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { FiberNavigator } from './FiberNavigator';\n\ninterface DebugRectProps {\n  showBackground?: boolean;\n  showClassName?: boolean;\n  showCropMarks?: boolean;\n  showElement?: boolean;\n  fiberNav: FiberNavigator;\n  renderLabel?: (fiberNav: FiberNavigator) => string;\n}\n\nconst cropMarkStyle: React.CSSProperties = {\n  position: 'absolute',\n  background: '#6495ed88',\n};\n\nexport class DebugRect extends React.Component<DebugRectProps> {\n  selectorRef = React.createRef<HTMLPreElement>();\n\n  static defaultProps = {\n    showBackground: true,\n    showClassName: true,\n    showElement: true,\n    renderLabel: fiberNav => `<${fiberNav.name} />`,\n  };\n\n  componentDidMount() {\n    this.setDebugSelectorPosition();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.setDebugSelectorPosition();\n  }\n\n  setDebugSelectorPosition = () => {\n    const { fiberNav } = this.props;\n\n    if (\n      fiberNav &&\n      fiberNav.domNode &&\n      fiberNav.domNode.getBoundingClientRect &&\n      typeof fiberNav.domNode.getBoundingClientRect === 'function' &&\n      this.selectorRef.current\n    ) {\n      const rect = fiberNav.domNode.getBoundingClientRect();\n\n      this.selectorRef.current.style.top = `${rect.top}px`;\n      this.selectorRef.current.style.left = `${rect.left}px`;\n      this.selectorRef.current.style.width = `${rect.width}px`;\n      this.selectorRef.current.style.height = `${rect.height}px`;\n\n      requestAnimationFrame(this.setDebugSelectorPosition);\n    }\n  };\n\n  render() {\n    const { fiberNav, showBackground, showClassName, showCropMarks, showElement, renderLabel } = this.props;\n\n    if (!fiberNav) {\n      return null;\n    }\n\n    const label = renderLabel(fiberNav);\n\n    return (\n      <pre\n        ref={this.selectorRef}\n        style={{\n          position: 'fixed',\n          padding: 0,\n          margin: 0,\n          background: showBackground ? '#6495ed11' : 'none',\n          outline: '2px solid #6495edcc',\n          outlineOffset: '-1px',\n          zIndex: 99999999,\n          pointerEvents: 'none',\n          userSelect: 'none',\n        }}\n      >\n        {label && (\n          <div\n            style={{\n              position: 'absolute',\n              padding: '2px 4px',\n              margin: '-1px 0 0 -1px',\n              bottom: '100%',\n              left: 0,\n              color: '#fff',\n              background: '#6495ed',\n              zIndex: 1, // above crop marks\n            }}\n          >\n            <span style={{ fontWeight: 'bold' }}>{renderLabel(fiberNav)}</span>\n          </div>\n        )}\n        {showCropMarks && (\n          <>\n            {/* Top Left */}\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '12px',\n                height: '1px',\n                top: '0',\n                left: '-20px',\n              }}\n            />\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '1px',\n                height: '12px',\n                top: '-20px',\n                left: '0',\n              }}\n            />\n\n            {/* Top Right */}\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '12px',\n                height: '1px',\n                top: '0',\n                right: '-20px',\n              }}\n            />\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '1px',\n                height: '12px',\n                top: '-20px',\n                right: '0',\n              }}\n            />\n\n            {/* Bottom Left */}\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '12px',\n                height: '1px',\n                bottom: '0',\n                left: '-20px',\n              }}\n            />\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '1px',\n                height: '12px',\n                bottom: '-20px',\n                left: '0',\n              }}\n            />\n\n            {/* Bottom Right */}\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '12px',\n                height: '1px',\n                bottom: '0',\n                right: '-20px',\n              }}\n            />\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '1px',\n                height: '12px',\n                bottom: '-20px',\n                right: '0',\n              }}\n            />\n          </>\n        )}\n        {fiberNav.domNode && (showElement || showClassName) && (\n          <div\n            style={{\n              fontSize: '0.9em',\n              position: 'absolute',\n              padding: '2px 4px',\n              margin: '0 0 1px -1px',\n              top: '100%',\n              left: 0,\n              background: '#6495ed',\n            }}\n          >\n            {showElement && (\n              <strong style={{ fontWeight: 'bold', color: 'hsl(160, 100%, 80%)' }}>\n                {fiberNav.domNode.tagName && fiberNav.domNode.tagName.toLowerCase()}\n              </strong>\n            )}\n            {showClassName &&\n              fiberNav.domNode.hasAttribute &&\n              typeof fiberNav.domNode.hasAttribute === 'function' &&\n              fiberNav.domNode.hasAttribute('class') && (\n                <span style={{ color: 'rgba(255, 255, 255, 0.75)' }}>\n                  .{(fiberNav.domNode.getAttribute('class') || '').replace(/ +/g, '.')}\n                </span>\n              )}\n          </div>\n        )}\n      </pre>\n    );\n  }\n}\n"],"file":"DebugRect.js"}